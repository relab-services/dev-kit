(function(f,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(f=typeof globalThis<"u"?globalThis:f||self,u(f["@scalar/snippetz-plugin-node-ofetch"]={}))})(this,function(f){"use strict";function u(a){return a.reduce((t,e)=>(t[e.name]=e.value,t),{})}function l(a){return/\s|-/.test(a)}function h(a,t=0){let e=[],d=" ".repeat(t),s=" ".repeat(t+2);for(const[c,n]of Object.entries(a)){let i=l(c)?`'${c}'`:c;if(Array.isArray(n)){const o=n.map(r=>typeof r=="string"?`'${r}'`:r&&typeof r=="object"?h(r,t+2):r).join(`, ${s}`);e.push(`${s}${i}: [${o}]`)}else if(n&&typeof n=="object")e.push(`${s}${i}: ${h(n,t+2)}`);else if(typeof n=="string"){let o=`${n}`;if(n.startsWith("JSON.stringify")){const r=n.split(`
`);r.length>1&&(o=r.map((p,y)=>y===0?p:`${s}${p}`).join(`
`))}else o=`'${n}'`;e.push(`${s}${i}: ${o}`)}else e.push(`${s}${i}: ${n}`)}return`{
${e.join(`,
`)}
${d}}`}function $(a){var n,i;const t={method:"GET",...a};t.method=t.method.toUpperCase();const e={method:t.method==="GET"?void 0:t.method},d=new URLSearchParams(t.queryString?u(t.queryString):void 0);d.size&&(e.query={},d.forEach((o,r)=>{e.query[r]=o})),(n=t.headers)!=null&&n.length&&(e.headers={},t.headers.forEach(o=>{e.headers[o.name]=o.value})),(i=t.cookies)!=null&&i.length&&(e.headers=e.headers||{},t.cookies.forEach(o=>{e.headers["Set-Cookie"]=e.headers["Set-Cookie"]?`${e.headers["Set-Cookie"]}; ${o.name}=${o.value}`:`${o.name}=${o.value}`})),Object.keys(e).forEach(o=>{e[o]===void 0&&delete e[o]}),t.postData&&(e.body=t.postData.text,t.postData.mimeType==="application/json"&&(e.body=JSON.parse(e.body)));const s=Object.keys(e).length?`, ${h(e)}`:"";return{target:"node",client:"ofetch",code:`ofetch('${t.url}'${s})`}}f.ofetch=$,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
